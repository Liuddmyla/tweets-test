{"version":3,"file":"static/js/978.3778c27d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/user/User.module.css?fe8d","components/user/User.jsx","webpack://react-homework-template/./src/components/usersList/UsersList.module.css?d862","components/usersList/UsersList.jsx","pages/Tweets.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"img\":\"User_img__vAZyI\",\"tweets\":\"User_tweets__574OS\",\"followers\":\"User_followers__gQ6mI\",\"btn\":\"User_btn__3y8NN\",\"btnActiv\":\"User_btnActiv__2w4tb\"};","import { useEffect, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport css from \"./User.module.css\";\n\n\nconst User = ({user}) => {\n  const [following, setFollowing] = useState(JSON.parse(localStorage.getItem(`${user.id}-following`)) ?? false);\n \n  const [followersNumber, setFollowersNumber] = useState(user.followers); \n\n  useEffect(() => {\n    localStorage.setItem(`${user.id}-following`, JSON.stringify(following));\n   \n    fetch(`https://645242e1a2860c9ed4068029.mockapi.io/users/${user.id}`, {\n      method: 'PUT',\n      headers: {'content-type':'application/json'},\n      body: JSON.stringify({followers: followersNumber})\n     }).then(res => {\n       if (res.ok) {\n      return res.json();\n      }  \n     }).catch(error => {\n       console.log(error);\n     })\n    \n  }, [user.id, following, followersNumber ])\n \n  \n  const onFollowClick = () => {  \n    setFollowing(true);    \n    setFollowersNumber((prev)=>prev + 1)\n   \n  }\n\n  const onFollowingClick = () => {\n    setFollowing(false);   \n    setFollowersNumber((prev)=>prev - 1)\n } \n    \n    return (\n        <>\n            <img src={`${user.avatar}`} alt='avatar' width={62} height={62} className={css.img}/>\n            <p className={css.tweets}>{user.tweets} tweets</p>\n            <p className={css.followers}>{followersNumber.toLocaleString().replace(/\\s/g, ',')} followers</p>\n            { following? <button type=\"button\" id={user.id} className={css.btnActiv} onClick={onFollowingClick}>following</button> :\n              <button type=\"button\" id={user.id} className={css.btn} onClick={onFollowClick}>follow</button>}\n        </>\n    )\n}\n\nexport default User;\n\nUser.propTypes = {\n    user: PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            avatar: PropTypes.string.isRequired,\n            tweets: PropTypes.string.isRequired,\n            followers: PropTypes.number.isRequired,\n       }) \n       \n}","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"UsersList_list__XxI1L\",\"item\":\"UsersList_item__u3s6A\",\"button\":\"UsersList_button__cKmKS\"};","import User from \"components/user/User\";\nimport PropTypes from 'prop-types';\nimport css from \"./UsersList.module.css\";\n\nconst UserList = ({ users }) => { \n  \n  return (\n    <>\n      <div className={css.container}>         \n        <ul className={css.list}>\n          {users.map((user) => (\n            <li key={user.id} className={css.item}>\n              <User user={user} />                  \n            </li>\n          ))}\n        </ul>        \n      </div>\n    </>\n  );\n};\n\n\nexport default UserList;\n\nUserList.propTypes = {\n    users: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            avatar: PropTypes.string.isRequired,\n            tweets: PropTypes.string.isRequired,\n            followers: PropTypes.number.isRequired,\n       }) \n    )    \n}","import { Loader } from \"components/Loader\";\nimport UserList from \"components/usersList/UsersList\";\nimport { useEffect, useState } from \"react\";\nimport css from \"../components/usersList/UsersList.module.css\";\nimport {  useNavigate } from \"react-router-dom\";\n\nconst Status = {\n    PENDING: 'pending',\n    RESOLVED: 'resolved',\n    REJECTED: 'rejected'\n};\n\nconst Tweets = () => { \n\n  const [status, setStatus] = useState(null);\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null); \n  const [page, setPage] = useState(1); \n  \n  useEffect(() => {\n    const URL = `https://645242e1a2860c9ed4068029.mockapi.io/users?page=${page}&limit=3`;\n\n    setStatus(Status.PENDING);\n  \n    fetch(URL, {\n      method: 'GET',\n      headers: {'content-type':'application/json'},\n    }).then(res => {\n      if (res.ok) {\n      return res.json();\n      }  \n    }).then(tasks => {\n      setUsers((prev)=>[...prev, ...tasks]);\n      setStatus(Status.RESOLVED); \n    }).catch(error => {\n      setError(error);\n      setStatus(Status.REJECTED);\n    })\n  \n  }, [page, setPage])    \n \n  const handleClick = () => {\n    setPage((prev) => prev + 1);\n  }\n\n  const navigate = useNavigate();\n\n  const handleBackClick = () => {\n    navigate('/');\n  }\n\n  return (\n    <>\n      <button type=\"button\" className={css.button} onClick={handleBackClick}> Back </button>\n      {status === Status.PENDING  && <Loader />}\n      {status === Status.REJECTED && (<div>{error.message}</div>)}  \n      {users && <UserList users={users} />}\n      {users.length < 12 && <button type=\"button\" className={css.button} onClick={handleClick}> Load More </button>}\n    </>\n  \n  );\n};\n\nexport default Tweets;"],"names":["user","useState","JSON","parse","localStorage","getItem","id","following","setFollowing","followers","followersNumber","setFollowersNumber","useEffect","setItem","stringify","fetch","method","headers","body","then","res","ok","json","catch","error","console","log","src","avatar","alt","width","height","className","css","tweets","toLocaleString","replace","type","onClick","prev","users","map","Status","status","setStatus","setUsers","setError","page","setPage","URL","tasks","navigate","useNavigate","Loader","message","length"],"sourceRoot":""}