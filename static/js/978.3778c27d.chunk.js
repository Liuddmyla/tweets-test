"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[978],{978:function(t,e,n){n.r(e),n.d(e,{default:function(){return x}});var s=n(433),o=n(439),c=n(783),i=n(791),r="User_img__vAZyI",a="User_tweets__574OS",l="User_followers__gQ6mI",u="User_btn__3y8NN",f="User_btnActiv__2w4tb",d=n(184),h=function(t){var e,n=t.user,s=(0,i.useState)(null!==(e=JSON.parse(localStorage.getItem("".concat(n.id,"-following"))))&&void 0!==e&&e),c=(0,o.Z)(s,2),h=c[0],m=c[1],_=(0,i.useState)(n.followers),p=(0,o.Z)(_,2),g=p[0],j=p[1];(0,i.useEffect)((function(){localStorage.setItem("".concat(n.id,"-following"),JSON.stringify(h)),fetch("https://645242e1a2860c9ed4068029.mockapi.io/users/".concat(n.id),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({followers:g})}).then((function(t){if(t.ok)return t.json()})).catch((function(t){console.log(t)}))}),[n.id,h,g]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("img",{src:"".concat(n.avatar),alt:"avatar",width:62,height:62,className:r}),(0,d.jsxs)("p",{className:a,children:[n.tweets," tweets"]}),(0,d.jsxs)("p",{className:l,children:[g.toLocaleString().replace(/\s/g,",")," followers"]}),h?(0,d.jsx)("button",{type:"button",id:n.id,className:f,onClick:function(){m(!1),j((function(t){return t-1}))},children:"following"}):(0,d.jsx)("button",{type:"button",id:n.id,className:u,onClick:function(){m(!0),j((function(t){return t+1}))},children:"follow"})]})},m={list:"UsersList_list__XxI1L",item:"UsersList_item__u3s6A",button:"UsersList_button__cKmKS"},_=function(t){var e=t.users;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:m.container,children:(0,d.jsx)("ul",{className:m.list,children:e.map((function(t){return(0,d.jsx)("li",{className:m.item,children:(0,d.jsx)(h,{user:t})},t.id)}))})})})},p=n(689),g="pending",j="resolved",b="rejected",x=function(){var t=(0,i.useState)(null),e=(0,o.Z)(t,2),n=e[0],r=e[1],a=(0,i.useState)([]),l=(0,o.Z)(a,2),u=l[0],f=l[1],h=(0,i.useState)(null),x=(0,o.Z)(h,2),w=x[0],k=x[1],N=(0,i.useState)(1),v=(0,o.Z)(N,2),S=v[0],y=v[1];(0,i.useEffect)((function(){var t="https://645242e1a2860c9ed4068029.mockapi.io/users?page=".concat(S,"&limit=3");r(g),fetch(t,{method:"GET",headers:{"content-type":"application/json"}}).then((function(t){if(t.ok)return t.json()})).then((function(t){f((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(t))})),r(j)})).catch((function(t){k(t),r(b)}))}),[S,y]);var U=(0,p.s0)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{type:"button",className:m.button,onClick:function(){U("/")},children:" Back "}),n===g&&(0,d.jsx)(c.a,{}),n===b&&(0,d.jsx)("div",{children:w.message}),u&&(0,d.jsx)(_,{users:u}),u.length<12&&(0,d.jsx)("button",{type:"button",className:m.button,onClick:function(){y((function(t){return t+1}))},children:" Load More "})]})}}}]);
//# sourceMappingURL=978.3778c27d.chunk.js.map